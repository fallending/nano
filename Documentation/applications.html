<html>
<head>
	<title>Nano &rsaquo; Building Applications</title>
	<link rel="stylesheet" type="text/css" href="html/nano.css">
	<script type="text/javascript" src="html/rounded_corners.js"></script>
	<script type="text/javascript" src="html/nano.js"></script>
</head>
<body>





<script type="text/javascript" src="html/warning.js"></script>
<a href="http://www.refnum.com/products/nano/">
	<div id="header">
	<div id="reflection"></div>
	</div>
</a>





<div id="page" style="height:1750">

<div id="content">
<h1>Building Applications</h1>
<p>
The simplest approach to create a new Nano-based application is to install the 
<a href="quickstart.html">Xcode Templates</a>, and allow Xcode to create a new project:
</p>

<div align=center>
<img src="html/demo_project.png" alt="Demo Project" width="396" height="410">
</div>



<h2>Project Structure</h2>
<p>
Projects created from an Xcode template link to Nano as a static library. This reduces build
times if Nano is used in multiple projects, but is not a requirement. If you prefer, you can
add Nano directly to your project.
</p>

<p>
The template project contains several standard groups:
</p>

<ul>
	<li>Configuration (the .xcconfig files used to configure the target)
	<li>Prefix (the project prefix header, and the "build header")
	<li>Source (the project source code, organised as <a href="http://en.wikipedia.org/wiki/Model-View-Controller">MVC</a>).
	<li>Resources (icons, string tables, etc)
</ul>

<p>
You may wish to use a similar grouping for your own projects, although no particular structure
is required.
</p>



<h2>Application Model</h2>
<p>
Although the definitive reference is the source code, some of the basic concepts of the Nano
application model are discussed here.
</p>

<p>
One of the most important headers for a Nano project is the "build header". This is contained in the
Prefix directory, and defines application properties such as the name or version number.
</p>

<p>
These properties are used to populate the Info.plist file, and to configure the properties
dictionaries of the NApplication and NDocument objects.
</p>

<p>
NApplication and NDocument both maintain a properties dictionary to control their behaviour, and
expose these dictionaries to sub-classes to allow this behaviour to be customised.
</p>

<p>
The "build header" provides a simple way for new projects to populate these dictionaries with the
same values as the Info.plist file, however this approach is not required.
</p>

<p>
The only connection between the Nano classes and the sub-classes within the application are these
dictionaries, since the application-specific build header is not visible to the Nano library.
</p>



<h2>Document Model</h2>
<p>
Nano's document model is based around <a href="http://developer.apple.com/documentation/Carbon/Conceptual/understanding_utis/index.html">Universal
Type Identifiers</a> (UTIs), rather than the legacy approach of type/creator or file extensions.
</p>

<p>
A UTI is an identifier that identifies a particular type of content, and that can be mapped to one
or more type-systems.
</p>

<p>
They are best thought of as an opaque reference to a "type", which can be queried to obtain a
file type/creator/extension/MIME-type/etc for that data type (for example, the UTI for a Windows
Bitmap Image could be queried to obtain .bmp, BMPf, or image/x-ms-bmp).
</p>

<p>
In Nano, each NDocument sub-class has an associated UTI. The UTI is the definitive "type" of the
document, and additional meta-data such as the file type or extension are retrieved from the UTI as
required.
</p>

<p>
NApplication automatically uses the UTIs defined in your Info.plist to populate file open dialogs,
allowing the user to select only those files that your application can edit or view.
</p>

<p>
NDocument performs a similar task for save sheets, allowing the user to save documents in one of
the available formats that your application can edit. NDocument will also set the file type or
extension for saved files automatically, based on the UTI.
</p>

<p>
This model can be overriden, however for most applications the default behaviour is appropriate.
</p>



<h2>Nano Requirements</h2>
<p>
Applications built with Nano must include <tt>Library/Resources/English.lproj/Nano.strings</tt>
in their bundle.
</p>

<p>
If your application contains multiple localisations, you may wish to consider localising this file
in order to localise the strings required by Nano.
</p>

<p>
If you would like to submit a localisation back to Nano, please see the <a href="contributing.html">contributing</a>
page.
</p>



<h2>System Requirements</h2>
<p>
Applications built with Nano require Mac OS X 10.4 or later and should link to the Carbon,
Cocoa, QuickTime, and Accelerate frameworks.
</p>

<p>
Although most of Nano will function correctly on 10.3, there are some issues relating to UTI
support that means supporting this platform would require additional code.
</p>

<p>
If you are building an application with Nano, and require 10.3 support, please <a href="contact.html">contact</a>
me to discuss this (if there is sufficient demand, it should be feasible to support 10.3.9).
</p>








</div>





<div id="navigation">
    <ul id="navlist">
        <li class="subtitle">Nano</li>
        <li><a href="index.html">Home</a></li>
        <li><a href="licence.html">Licence</a></li>
        <li><a href="contact.html">Contact</a></li>

        <li class="subtitle">Using Nano</li>
        <li><a href="quickstart.html">Quick Start</a></li>
        <li><a href="building.html">Building Nano</a></li>
        <li><a href="download.html">Download Nano</a></li>
        <li><a href="resources.html">Nano Resources</a></li>
        <li><a href="contributing.html">Contributing Code</a></li>

        <li class="subtitle">Documentation</li>
        <li><a href="applications.html">Building Applications</a></li>
        <li><a href="controllers.html">Using Controllers</a></li>
        <li><a href="events.html">Using Carbon Events</a></li>
        <li><a href="views.html">Using HIViews</a></li>
        <li><a href="classes.html">Class Overview</a></li>
	</ul>
</div>

</div>





<div id="footer">
Copyright &copy; 2006 refNum Software
</div>

</body>
</html>

